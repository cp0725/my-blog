webpackJsonp([8],{"0Bke":function(e,t){},"3hUr":function(e,t){},"6WRk":function(e,t){},"73jV":function(e,t,s){e.exports=s.p+"static/img/pass-word.58ce423.png"},"7AJu":function(e,t,s){"use strict";t.a={country:["zh-CN"],cookieOverdue:864e5,avatar:function(){return["http://pczp7a1z5.bkt.clouddn.com/Fluxd_o3NUQRO7ng04x7QTLnVTrT?imageView2/1/w/250/h/250","http://pczp7a1z5.bkt.clouddn.com/FskFcPCp9llMLptuiMolnon24cau?imageView2/1/w/250/h/250","http://pczp7a1z5.bkt.clouddn.com/FnWNTXWC7zNEV82szIfxoS1Ng8Ch?imageView2/1/w/250/h/250","http://pczp7a1z5.bkt.clouddn.com/Fg_bN57PbGSwYPWX3ZBrwtQyF96z?imageView2/1/w/250/h/250","http://pczp7a1z5.bkt.clouddn.com/FlWKxhX42LIJgFvLk3JoL6GQ8iY0?imageView2/1/w/250/h/250","http://pczp7a1z5.bkt.clouddn.com/FowBHAGPLnk5XjTCOcR2Mw4bjR5p?imageView2/1/w/250/h/250","http://pczp7a1z5.bkt.clouddn.com/FtPYT1elsOUnGsFe6rG0sdAXyouN?imageView2/1/w/250/h/250","http://pczp7a1z5.bkt.clouddn.com/Fkaad5rsYeaGclcrnoGmiGAGFFZS?imageView2/1/w/250/h/250"][parseInt(8*Math.random())]},pageConfig:{page:0,size:10,total:0},musicType:3}},NHnr:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=s("7+uW"),o=s("Dd8w"),n=s.n(o),i=s("NYxO"),r={data:function(){return{}},created:function(){},computed:n()({},Object(i.b)(["userInfo"])),methods:n()({},Object(i.c)(["loginVueShow","registerVueShow"]),{userReturn:function(){this.myAjax.userReturn({userName:this.userInfo.userName,id:this.userInfo.id}).then(function(e){e.status&&location.reload()})}}),components:{},props:["userBtnShow"]},u={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"header"},[a("div",{staticClass:"header-main"},[a("img",{attrs:{src:s("dLd/"),alt:"船长的博客"}}),e._v(" "),a("div",{staticClass:"nav-wrap"},[a("router-link",{staticClass:"nav-tab",attrs:{to:"/home"}},[e._v("首页")]),e._v(" "),a("router-link",{staticClass:"nav-tab",attrs:{to:"/article"}},[e._v("文章")]),e._v(" "),a("router-link",{staticClass:"nav-tab",attrs:{to:"/square"}},[e._v("广场")])],1),e._v(" "),a("ul",{directives:[{name:"show",rawName:"v-show",value:e.userBtnShow,expression:"userBtnShow"}]},[e.userInfo.userName?e._e():a("li",{on:{click:function(t){e.loginVueShow(!0)}}},[e._v("登陆")]),e._v(" "),e.userInfo.userName?e._e():a("li",{on:{click:function(t){e.registerVueShow(!0)}}},[e._v("注册")]),e._v(" "),e.userInfo.userName?a("li",[a("img",{staticClass:"avatar",attrs:{src:e.userInfo.avatar}}),e._v(" "),a("span",[e._v(e._s(e.userInfo.nickName))])]):e._e(),e._v(" "),e.userInfo.userName?a("li",{on:{click:e.userReturn}},[e._v("退出")]):e._e()])])])},staticRenderFns:[]};var c=s("VU/8")(r,u,!1,function(e){s("0Bke")},"data-v-64fd6c20",null).exports,m={data:function(){return{progressWidth:"0%",progressShow:0}},created:function(){window.progressVue=this},mounted:function(){},methods:{},components:{}},l={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"progress"},[t("div",{staticClass:"bar",style:{width:this.progressWidth,opacity:this.progressShow}})])},staticRenderFns:[]};var p=s("VU/8")(m,l,!1,function(e){s("3hUr")},"data-v-360227ac",null).exports,d=s("YgNb"),v=s("czHy"),f={data:function(){return{imgName:"proving-code",message:{status:!1,tit:""},fromValue:{userName:"",passWord:""},tipsStatus:{userName:!0,passWord:!0}}},methods:n()({},Object(i.c)(["loginVueShow","registerVueShow","userInfo"]),{blurEvent:function(){this.imgName="proving-code"},focusEvent:function(e,t){this.imgName=e,this.tipsStatus[t]=!0},tips:function(e){this.tipsStatus[e]=!0},close:function(){this.loginVueShow(!1)},register:function(){this.loginVueShow(!1),this.registerVueShow(!0)},login:function(){var e=this;this.message.status=!1,this.tipsStatus=Object(v.a)(this.fromValue),d.a.isEmpty(this.tipsStatus)&&this.myAjax.userLogin({userName:this.fromValue.userName,passWord:this.fromValue.passWord}).then(function(t){t.status?(e.userInfo(t.data),e.loginVueShow(!1)):(e.message.status=!0,e.message.tit=t.message)})}})},h={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"login-wrap"},[a("div",{staticClass:"main"},[a("div",{staticClass:"title"},[e.message.status?a("span",{staticClass:"err"},[e._v(e._s(e.message.tit))]):a("span",[e._v("登陆")]),e._v(" "),a("i",{on:{click:e.close}})]),e._v(" "),a("div",{staticClass:"inp-wrap"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.fromValue.userName,expression:"fromValue.userName"}],attrs:{placeholder:"请输入手机号或邮箱",type:"text",maxlength:"20"},domProps:{value:e.fromValue.userName},on:{blur:e.blurEvent,focus:function(t){e.focusEvent("user-name","userName")},input:function(t){t.target.composing||e.$set(e.fromValue,"userName",t.target.value)}}}),e._v(" "),a("p",{directives:[{name:"show",rawName:"v-show",value:!e.tipsStatus.userName,expression:"!tipsStatus.userName"}],on:{click:function(t){e.tips("userName")}}},[e._v("请输入正确的手机号或者电子邮箱")])]),e._v(" "),a("div",{staticClass:"inp-wrap"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.fromValue.passWord,expression:"fromValue.passWord"}],attrs:{placeholder:"请输入密码",type:"password",maxlength:"12"},domProps:{value:e.fromValue.passWord},on:{blur:e.blurEvent,focus:function(t){e.focusEvent("pass-word","passWord")},input:function(t){t.target.composing||e.$set(e.fromValue,"passWord",t.target.value)}}}),e._v(" "),a("p",{directives:[{name:"show",rawName:"v-show",value:!e.tipsStatus.passWord,expression:"!tipsStatus.passWord"}],on:{click:function(t){e.tips("passWord")}}},[e._v("密码长度为6-12位且不含中文")])]),e._v(" "),a("div",{staticClass:"btn-wrap"},[a("button",{on:{click:e.login}},[e._v("登录")])]),e._v(" "),a("div",{staticClass:"bottom"},[a("span",{staticClass:"left"},[e._v("没有账号？"),a("i",{on:{click:e.register}},[e._v("注册")])]),e._v(" "),a("span",{staticClass:"right"},[e._v("忘记密码")])]),e._v(" "),a("img",{directives:[{name:"show",rawName:"v-show",value:"pass-word"==e.imgName,expression:"imgName=='pass-word'"}],attrs:{src:s("73jV"),alt:""}}),e._v(" "),a("img",{directives:[{name:"show",rawName:"v-show",value:"user-name"==e.imgName,expression:"imgName=='user-name'"}],attrs:{src:s("gaMF"),alt:""}}),e._v(" "),a("img",{directives:[{name:"show",rawName:"v-show",value:"proving-code"==e.imgName,expression:"imgName=='proving-code'"}],attrs:{src:s("ioXL"),alt:""}})])])},staticRenderFns:[]};var g=s("VU/8")(f,h,!1,function(e){s("vVWk")},"data-v-f15277dc",null).exports,w=s("7AJu"),N={data:function(){return{imgName:"proving-code",message:{status:!1,tit:""},fromValue:{nickName:"",userName:"",verifyCode:"",passWord:"",passWord2:""},tipsStatus:{nickName:!0,userName:!0,verifyCode:!0,passWord:!0,passWord2:!0},downTime:60}},methods:n()({},Object(i.c)(["registerVueShow","loginVueShow","userInfo"]),{blurEvent:function(){this.imgName="proving-code"},focusEvent:function(e,t){this.imgName=e,this.tipsStatus[t]=!0},tips:function(e){this.tipsStatus[e]=!0},close:function(){this.registerVueShow(!1)},login:function(){this.registerVueShow(!1),this.loginVueShow(!0)},countDown:function(){var e=this;this.downTime=60;var t=setInterval(function(){e.downTime-=1,e.downTime<=0&&clearInterval(t)},1e3)},validator:function(){var e=this;this.message.status=!1,this.tipsStatus.userName=Object(v.a)({userName:this.fromValue.userName}).userName,this.tipsStatus.userName&&this.myAjax.verificationCode({userName:this.fromValue.userName}).then(function(t){t.status?e.countDown():(e.message.status=!0,e.message.tit=t.message)})},register:function(){var e=this;this.message.status=!1,this.tipsStatus=Object(v.a)(this.fromValue),d.a.isEmpty(this.tipsStatus)&&this.myAjax.userRegister({nickName:this.fromValue.nickName,userName:this.fromValue.userName,verifyCode:this.fromValue.verifyCode,passWord:this.fromValue.passWord,avatar:w.a.avatar()}).then(function(t){t.status?(e.userInfo(t.data),e.registerVueShow(!1)):(e.message.status=!0,e.message.tit=t.message)})}}),components:{}},V={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"login-wrap"},[a("div",{staticClass:"main"},[a("div",{staticClass:"title"},[e.message.status?a("span",{staticClass:"err"},[e._v(e._s(e.message.tit))]):a("span",[e._v("注册")]),e._v(" "),a("i",{on:{click:e.close}})]),e._v(" "),a("div",{staticClass:"inp-wrap"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.fromValue.nickName,expression:"fromValue.nickName"}],attrs:{placeholder:"请输入用户名",type:"text",maxlength:"7"},domProps:{value:e.fromValue.nickName},on:{blur:e.blurEvent,focus:function(t){e.focusEvent("user-name","nickName")},input:function(t){t.target.composing||e.$set(e.fromValue,"nickName",t.target.value)}}}),e._v(" "),a("p",{directives:[{name:"show",rawName:"v-show",value:!e.tipsStatus.nickName,expression:"!tipsStatus.nickName"}],on:{click:function(t){e.tips("nickName")}}},[e._v("用户名为2-7位任意字符")])]),e._v(" "),a("div",{staticClass:"inp-wrap"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.fromValue.userName,expression:"fromValue.userName"}],attrs:{placeholder:"请输入手机号或邮箱",type:"text",maxlength:"20"},domProps:{value:e.fromValue.userName},on:{blur:e.blurEvent,focus:function(t){e.focusEvent("user-name","userName")},input:function(t){t.target.composing||e.$set(e.fromValue,"userName",t.target.value)}}}),e._v(" "),a("p",{directives:[{name:"show",rawName:"v-show",value:!e.tipsStatus.userName,expression:"!tipsStatus.userName"}],on:{click:function(t){e.tips("userName")}}},[e._v("请输入正确的手机号或者电子邮箱")])]),e._v(" "),a("div",{staticClass:"inp-wrap"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.fromValue.verifyCode,expression:"fromValue.verifyCode"}],attrs:{placeholder:"请输入验证码",type:"text",maxlength:"6"},domProps:{value:e.fromValue.verifyCode},on:{blur:e.blurEvent,focus:function(t){e.focusEvent("user-name","verifyCode")},input:function(t){t.target.composing||e.$set(e.fromValue,"verifyCode",t.target.value)}}}),e._v(" "),a("p",{directives:[{name:"show",rawName:"v-show",value:!e.tipsStatus.verifyCode,expression:"!tipsStatus.verifyCode"}],on:{click:function(t){e.tips("verifyCode")}}},[e._v("验证码为6位数字")]),e._v(" "),60!=e.downTime&&0!=e.downTime?a("span",{staticClass:"down"},[e._v(e._s(e.downTime)+"秒后重试")]):a("span",{on:{click:e.validator}},[e._v("获取验证码")])]),e._v(" "),a("div",{staticClass:"inp-wrap"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.fromValue.passWord,expression:"fromValue.passWord"}],attrs:{placeholder:"请输入密码",type:"password",maxlength:"12"},domProps:{value:e.fromValue.passWord},on:{blur:e.blurEvent,focus:function(t){e.focusEvent("pass-word","passWord")},input:function(t){t.target.composing||e.$set(e.fromValue,"passWord",t.target.value)}}}),e._v(" "),a("p",{directives:[{name:"show",rawName:"v-show",value:!e.tipsStatus.passWord,expression:"!tipsStatus.passWord"}],on:{click:function(t){e.tips("passWord")}}},[e._v("密码长度为6-12位且不含中文")])]),e._v(" "),a("div",{staticClass:"inp-wrap"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.fromValue.passWord2,expression:"fromValue.passWord2"}],attrs:{placeholder:"请确认密码",type:"password",maxlength:"12"},domProps:{value:e.fromValue.passWord2},on:{blur:e.blurEvent,focus:function(t){e.focusEvent("pass-word","passWord2")},input:function(t){t.target.composing||e.$set(e.fromValue,"passWord2",t.target.value)}}}),e._v(" "),a("p",{directives:[{name:"show",rawName:"v-show",value:!e.tipsStatus.passWord2,expression:"!tipsStatus.passWord2"}],on:{click:function(t){e.tips("passWord2")}}},[e._v("两次密码输入不一致")])]),e._v(" "),a("div",{staticClass:"btn-wrap"},[a("button",{on:{click:e.register}},[e._v("注册")])]),e._v(" "),a("div",{staticClass:"bottom"},[a("span",{on:{click:e.login}},[e._v("已有账号请登录")])]),e._v(" "),a("img",{directives:[{name:"show",rawName:"v-show",value:"pass-word"==e.imgName,expression:"imgName=='pass-word'"}],attrs:{src:s("73jV"),alt:""}}),e._v(" "),a("img",{directives:[{name:"show",rawName:"v-show",value:"user-name"==e.imgName,expression:"imgName=='user-name'"}],attrs:{src:s("gaMF"),alt:""}}),e._v(" "),a("img",{directives:[{name:"show",rawName:"v-show",value:"proving-code"==e.imgName,expression:"imgName=='proving-code'"}],attrs:{src:s("ioXL"),alt:""}})])])},staticRenderFns:[]};var _=s("VU/8")(N,V,!1,function(e){s("jWm2")},"data-v-6966db34",null).exports,k={name:"setUp",data:function(){return{scrollTop:0}},created:function(){var e=this;window._dc.$on("listenScroll",function(t){e.scrollTop=document.documentElement.scrollTop})},methods:{setUp:function(){document.documentElement.scrollTop=0}},components:{}},S={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"set-up",on:{click:this.setUp}},[t("i",{staticClass:"fa fa-caret-up"})])},staticRenderFns:[]};var b=s("VU/8")(k,S,!1,function(e){s("xdnD")},"data-v-3432ba19",null).exports,C={data:function(){return{userBtnShow:!1}},created:function(){this.getUserStatus()},computed:n()({},Object(i.b)(["registerVueShow","loginVueShow"])),methods:n()({},Object(i.c)(["userInfo"]),{getUserStatus:function(){var e=this;this.myAjax.getStatus().then(function(t){t.status&&e.userInfo(t.data)}).finally(function(){e.userBtnShow=!0})}}),components:{top:c,login:g,register:_,progressBar:p,setUp:b}},x={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"app"}},[s("progress-bar"),e._v(" "),s("top",{attrs:{userBtnShow:e.userBtnShow}}),e._v(" "),s("transition",{attrs:{name:"registerFlash"}},[e.registerVueShow?s("register"):e._e(),e._v(" "),e.loginVueShow?s("login"):e._e()],1),e._v(" "),s("div",{staticClass:"router-view"},[s("keep-alive",[s("router-view")],1)],1),e._v(" "),s("set-up")],1)},staticRenderFns:[]};var W=s("VU/8")(C,x,!1,function(e){s("6WRk")},"data-v-05e4715c",null).exports,y=s("/ocq");a.a.use(y.a);var L=new y.a({routes:[{path:"/home",name:"home",component:function(e){s.e(4).then(s.bind(null,"LqM4")).then(function(t){e(t)})}},{path:"/article",name:"article",component:function(e){s.e(2).then(s.bind(null,"eTrs")).then(function(t){e(t)})}},{path:"/markdownEdit",name:"markdownEdit",component:function(e){s.e(3).then(s.bind(null,"4AoK")).then(function(t){e(t)})}},{path:"/articleRead/:id",name:"articleRead",component:function(e){s.e(1).then(s.bind(null,"2E7N")).then(function(t){e(t)})}},{path:"/square",name:"square",component:function(e){s.e(0).then(s.bind(null,"sV30")).then(function(t){e(t)})}},{path:"/words",name:"words",component:function(e){s.e(5).then(s.bind(null,"na65")).then(function(t){e(t)})}},{path:"/about",name:"about",component:function(e){s.e(6).then(s.bind(null,"zRCK")).then(function(t){e(t)})}}]});a.a.use(i.a);var E=new i.a.Store({state:{userInfo:{},loginVueShow:!1,registerVueShow:!1},getters:{userInfo:function(e,t){return e.userInfo},loginVueShow:function(e,t){return e.loginVueShow},registerVueShow:function(e,t){return e.registerVueShow}},mutations:{userInfo:function(e,t){e.userInfo=t},loginVueShow:function(e,t){e.loginVueShow=t},registerVueShow:function(e,t){e.registerVueShow=t}}}),j=s("fZjL"),R=s.n(j),I=s("//Fk"),F=s.n(I),T=s("mtWM"),z={postURL:{userLogin:"/user/login",userRegister:"/user/register",userReturn:"/user/return",verificationCode:"/user/verificationCode",getLinkTitle:"/square/getLinkTitle",pushSquareData:"/square/pushSquareData",squareLikes:"/square/likes",comment:"/square/comment",delete:"/square/delete",squareGetData:"/square/getSquareData",pushArticleData:"/article/pushArticleData",getArticleData:"/article/getArticleData",articleLikes:"/article/articleLikes",getArticleInfo:"/article/getArticleInfo"},getURL:{getStatus:"/user/token",getComment:"/square/getComment",getMusicList:"/home/getMusicList",getLrc:"/home/getLrc"}},A=s.n(T).a.create({baseURL:"http://140.143.64.43:5240",timeout:15e3,headers:{Authorization:d.a.getCookie("token")},onUploadProgress:function(e){},onDownloadProgress:function(e){}}),U=0;A.interceptors.request.use(function(e){return 1==++U&&(window.progressVue.progressShow=1,window.progressVue.progressWidth=parseInt(41*Math.random()+30)+"%"),e},function(e){return console.error("myError: axiosRequest (axiosApi.js)"),F.a.reject(e)}),A.interceptors.response.use(function(e){return 0==--U&&(window.progressVue.progressWidth="100%",setTimeout(function(){window.progressVue.progressShow=0,window.progressVue.progressWidth="0%"},500)),e&&e.data&&e.data.data&&e.data.data.token&&(d.a.setCookie("token",e.data.data.token,w.a.cookieOverdue),A.defaults.headers.Authorization=e.data.data.token),e&&e.data&&"退出成功"==e.data.message&&(d.a.removeCookie("token"),A.defaults.headers.Authorization=""),console.log(e.data),e.data},function(e){return console.error("myError: axiosResponse (axiosApi.js)"),F.a.reject(e)});var M={};R()(z.postURL).map(function(e){M[e]=function(t){return A.post(z.postURL[e],t)}}),R()(z.getURL).map(function(e){M[e]=function(t){var s=(t?R()(t):[]).map(function(e){return e+"="+t[e]}).join("&"),a=s?z.getURL[e]+"?"+s:z.getURL[e];return A.get(a,t)}});var D=M;s("f275"),s("so+h"),s("pw1w");a.a.prototype.myAjax=D,window.progressWidth="20%",window._dc=new a.a,a.a.config.productionTip=!1,new a.a({el:"#app",router:L,store:E,components:{App:W},template:"<App/>"}),window.onscroll=function(e){window._dc.$emit("listenScroll",e)}},YgNb:function(e,t,s){"use strict";var a=s("pFYg"),o=(s.n(a),s("mvHQ")),n=(s.n(o),{isEmpty:function(e){var t=!0;for(var s in e)e[s]||(t=!1);return t},setCookie:function(e,t,s){var a=new Date((new Date).getTime()+s);document.cookie=e+"="+t+";expires="+a},removeCookie:function(e){this.setCookie(e,void 0,-36e5)},getCookie:function(e){var t={};return document.cookie.split("; ").map(function(e){var s=e.split("=");t[s[0]]=s[1]}),t[e]},getTimeInterval:function(e){var t=((new Date).getTime()-new Date(e).getTime())/1e3/60,s=t/60,a=s/24,o=a/7,n=a/30,i=a/365;return t<1?"刚刚":t<60?Math.floor(t)+"分钟前":s<24?Math.floor(s)+"小时前":a<7?Math.floor(a)+"天前":o<4?Math.floor(o)+"周前":n<12?Math.floor(n)+"个月前":i<2?"一年前":i<3?"两年前":Math.floor(i)+"年前"},getTimeFormat:function(e){var t=new Date(e),s=t.getFullYear(),a=t.getMonth()+1,o=t.getDate();return s+"年"+(a=a<10?"0"+a:a)+"月"+(o=o<10?"0"+o:o)+"日"}});t.a=n;Object.prototype.hasOwnProperty},czHy:function(e,t,s){"use strict";var a=s("fZjL"),o=s.n(a),n=s("+b6B"),i=s.n(n),r=s("7AJu"),u={result:{},nickName:function(e){this.result.nickName=!(!e||!i.a.isLength(e,{min:2,max:7}))},userName:function(e){this.result.userName=!(!e||!i.a.isLength(e,{min:5,max:30})||!i.a.isEmail(e)&&!i.a.isMobilePhone(e,r.a.country))},verifyCode:function(e){this.result.verifyCode=!!(e&&i.a.isLength(e,{min:6,max:6})&&i.a.isNumeric(e))},passWord:function(e){this.result.passWord=!!(e&&i.a.isLength(e,{min:6,max:12})&&i.a.isAscii(e))},passWord2:function(e,t){this.result.passWord2=""!=e&&e==t},link:function(e){this.result.link=e&&i.a.isURL(e)}};t.a=function(e){return u.result={},o()(e).map(function(t){return u[t](e[t],e.passWord)}),u.result}},"dLd/":function(e,t,s){e.exports=s.p+"static/img/logo.f3367ce.png"},f275:function(e,t){},gaMF:function(e,t,s){e.exports=s.p+"static/img/user-name.1415c1c.png"},ioXL:function(e,t,s){e.exports=s.p+"static/img/proving-code.0447fe9.png"},jWm2:function(e,t){},pw1w:function(e,t){},"so+h":function(e,t){},vVWk:function(e,t){},xdnD:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.7d91c6a884abdd492765.js.map